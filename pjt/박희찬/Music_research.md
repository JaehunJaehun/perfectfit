# 음원 데이터를 구하는 방법에 대한 조사

## 1. MR 직접 다운로드

-   대부분 유료 사이트이므로 현실적으로 음원 데이터셋을 구성하는데에 드는 비용이 너무 큼.

## 2. Youtube - TJ 미디어 MR 영상

-   Youtube API를 사용하여 TJ 미디어 채널에 있는 MR 영상을 직접 DB 또는 Server에 저장하여 기본 음원 데이터셋 설정.

### 과제

-   채널 자체에 있는 영상 데이터만 6.4만개.
-   "미디어 제거" 등 같은 노래에 다른 형식 버전의 영상 존재 -> 중복을 걸러야 함.
-   MR 영상만 존재하므로, 원본 음원에 대한 영상은 해당 채널에서 구할 수 없음.

## 3. Youtube 원본 음원 영상에서 직접 MR 추출

-   Python Package의 pytube를 사용하여 유튜뷰 영상을 다운로드 할 수 있음.
-   단일 영상 또는 채널의 영상을 다운로드 할 수 있으니 TJ 미디어의 MR 영상을 다운로드 하면 가능할 것으로 보임.
-   영상부터, 재생목록, 채널 등 각종 정보를 서칭할 수 있음.
    -   제목, 가수, 설명, 조회수, ID 등 각종 메타데이터 등의 상세한 정보 제공.

### 과제

-   영상의 개수가 많음.
-   저작권 문제로 상업적 이용이 불가능한점을 고려해야함.
-   240319(화) -> 채널-동영상의 출력 결과가 나오지않음.
    -   원본 Repository의 Issue 확인 결과, Youtube의 내부 로직 변경으로 인해 기능이 동작하지 않음.
    -   하지만 해당 Package의 업데이트가 더 이상 이루어지지 않아서 해결할 수 없는 문제임.
    -   TJ의 재생목록 약 80개를 서칭하기에는 무리가 있음.

## 4. Spotify API

-   API 자체의 기능으로, Spotify에 있는 노래 목록을 가져올 수 있으니, 클라이언트에서 사용자가 원하는 노래를 검색하면 Spotify API로 해당 노래를 찾고 결과적으로 사용자가 재생할 수 있다는 점은 확인되었음.

### 과제

-   그렇다면 노래 MR을 위해서는 Youtube API, 원곡 노래에 대한 재생을 위해서는 Spotify API가 필요하다는 상황인데 이 둘을 병행해서 사용하는데에 발생하는 이슈가 없을지?

-   현재 Spotify 웹앱에서 성인 인증 관련 설정 및 메뉴가 없어 성인 인증이 필요한 음원을 재생할 수 없는 이슈 있음.

## 5. ScrapeTube

-   Pytube와 유사한 Package.
-   Pytube처럼 강력한 검색 기능은 아니며, 단순한 구조로 영상, 채널, 검색 3가지의 주요 기능만 지원함.
-   채널-영상의 조회는 가능하나, 제공하는 Data는 Pytube에 비해 적음.
-   현 상황에서 DB data를 수집할 수 있는 유일한 방법으로 판단됨.
-   영상을 서칭하는데에 Package의 기능을 반복 중첩으로 구현하면 약 1초에 영상 1개를 서칭할 수 있음.
-   240320(수) 확인 결과, TJ 미디어 채널 동영상의 외부 플랫폼에서의 영상 재생이 저작권 문제로 막혀있는 문제 발견.
-   차선책으로 KY 미디어로 Data target 변경, 데이터는 다소 적고 부실하나 최소한의 필요한 정보를 수집할 수 있음.

### 과제

-   현재 코드의 비효율적인 구조로 인해 약 1초에 영상 1개를 서칭할 수 있음.
-   ScrapeTube(Python) -> to Json file -> to MySQL의 방식으로 구현하면 시간 단축을 구현할 수 있다고 사료됨.
